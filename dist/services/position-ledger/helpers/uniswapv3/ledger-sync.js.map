{"version":3,"file":"ledger-sync.js","sourceRoot":"","sources":["../../../../../src/services/position-ledger/helpers/uniswapv3/ledger-sync.ts"],"names":[],"mappings":"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"}