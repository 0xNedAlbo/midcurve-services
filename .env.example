# Midcurve Services - Environment Configuration

# =============================================================================
# EVM Chain RPC URLs (REQUIRED)
# =============================================================================
# IMPORTANT: These environment variables are REQUIRED for the application to work.
# The application will throw an error at runtime if you attempt to use a chain
# without its corresponding RPC URL configured.
#
# Configure RPC endpoints for each supported EVM chain you plan to use.
# These are used by Erc20TokenService.discoverToken() and all chain operations.
#
# Recommended providers: Alchemy, Infura, QuickNode, or run your own node.

# Ethereum Mainnet (Chain ID: 1) - REQUIRED
RPC_URL_ETHEREUM=https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# Arbitrum One (Chain ID: 42161) - REQUIRED
RPC_URL_ARBITRUM=https://arb-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# Base (Chain ID: 8453) - REQUIRED
RPC_URL_BASE=https://base-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# BNB Smart Chain (Chain ID: 56) - REQUIRED
RPC_URL_BSC=https://bsc-dataseed1.binance.org

# Polygon (Chain ID: 137) - REQUIRED
RPC_URL_POLYGON=https://polygon-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# Optimism (Chain ID: 10) - REQUIRED
RPC_URL_OPTIMISM=https://opt-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# =============================================================================
# Etherscan API Configuration
# =============================================================================
# REQUIRED: Etherscan v2 unified API key (works for all supported chains)
#
# Get your API key at: https://etherscan.io/myapikey
#
# The same API key works for all supported chains:
# - Ethereum (Chain ID: 1)
# - Arbitrum (Chain ID: 42161)
# - Base (Chain ID: 8453)
# - Optimism (Chain ID: 10)
# - Polygon (Chain ID: 137)
#
# Used for:
# - Fetching position ledger events (INCREASE_LIQUIDITY, DECREASE_LIQUIDITY, COLLECT)
# - Contract creation block lookups
# - Block number to timestamp conversions
ETHERSCAN_API_KEY=YOUR_ETHERSCAN_API_KEY_HERE

# =============================================================================
# The Graph Subgraph API Configuration
# =============================================================================
# REQUIRED: The Graph API key for accessing Uniswap V3 subgraphs
#
# Get your API key at: https://thegraph.com/studio/apikeys/
#
# Used for:
# - Querying Uniswap V3 pool metrics (TVL, volume, fees)
# - Pool discovery and ranking
# - Historical pool data and analytics
# - Fee APR calculations
#
# The same API key works for all supported chains:
# - Ethereum (Chain ID: 1)
# - Arbitrum (Chain ID: 42161)
# - Base (Chain ID: 8453)
# - Optimism (Chain ID: 10)
# - Polygon (Chain ID: 137)
THE_GRAPH_API_KEY=YOUR_THE_GRAPH_API_KEY_HERE

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection string for Prisma
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA

# IMPORTANT: Use separate databases for development and testing!
#
# Development database (port 5432) - For manual testing via UI
# Start with: npm run db:dev:up
# This database persists your test data between sessions
DATABASE_URL=postgresql://devuser:devpass@localhost:5432/midcurve_dev?schema=public

# Test database (port 5433) - For automated tests only
# Start with: npm run db:test:up
# This database is reset/cleared during test runs
# Tests use .env.test which overrides DATABASE_URL to point here
TEST_DATABASE_URL=postgresql://testuser:testpass@localhost:5433/midcurve_test?schema=public

# =============================================================================
# Application Configuration
# =============================================================================
# Node environment (development, production, test)
NODE_ENV=development

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level for application logging (debug, info, warn, error, silent)
#
# Default behavior (when LOG_LEVEL is not set):
# - development: debug (verbose logging for debugging)
# - production: info (standard logging)
# - test: silent (no logs during tests)
#
# Override the default by setting LOG_LEVEL explicitly:
# LOG_LEVEL=debug
# LOG_LEVEL=info
# LOG_LEVEL=warn
# LOG_LEVEL=error
# LOG_LEVEL=silent
#
# Examples:
# - Debug mode in production: LOG_LEVEL=debug NODE_ENV=production
# - Silent mode in development: LOG_LEVEL=silent NODE_ENV=development
LOG_LEVEL=debug
